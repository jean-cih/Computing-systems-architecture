# Computing-systems-architecture

## Курс «Архитектура вычислительных системы»

### Лабораторная работа No 2

##### Тема: Оценка производительности процессора.

##### Задание: Реализовать программу для оценки производительности процессора ( benchmark).

## Содержание:

1. [Задание](#Задание)
2. [Пример запуска](#Пример-запуска)
3. [Результат запуска](#Результат-запуска)

## 
## Задание

1. Написать программу(ы) (benchmark) на языке С/С++/C# для оценки производительности процессора. В качестве набора типовых задач использовать либо минимум 3          функции выполняющих математические вычисления, либо одну функцию по работе с матрицами и векторами данных с несколькими типами данных. Можно использовать готовые    функции из математической библиотеки (math.h) [3], библиотеки BLAS.
   Обеспечить возможность в качестве аргумента при вызовепрограммы указать общее число испытаний для каждой типовой задачи (минимум 10).
   Входные данные для типовой задачи сгенерировать случайным образом.
   
2. С помощью системного таймера (библиотека time.h, функции clock() или gettimeofday()) или с помощью процессорного регистра счетчика TSC реализовать оценку в         секундах среднего времени испытания каждой типовой задачи. Оценить точность и погрешность (абсолютную и относительную) измерения времени (рассчитать дисперсию и    среднеквадратическое
   отклонение).
   
3. Результаты испытаний в самой программе (или с помощью скрипта) сохранить в файл в
   формате CSV со следующей структурой:
   [PModel;Task;OpType;Opt;InsCount;Timer;Time;LNum;AvTime;AbsErr;RelErr;TaskPerf], где PModel – Processor Model, модель процессора, на котором проводятся             испытания;
   Task – название выбранной типовой задачи (например, sin, log, saxpy, dgemv, sgemm и др.);
   OpType – Operand Type, тип операндов используемых при вычислениях типовой задачи;
   Opt – Optimisations, используемы ключи оптимизации (None, O1, O2 и др.);
   InsCount – Instruction Count, оценка числа инструкций при выполнении типовой задачи;
   Timer – название функции обращения к таймеру (для измерения времени);
   Time – время выполнения отдельного испытания;
   LNum – Launch Numer, номер испытания типовой задачи.
   AvTime – Average Time, среднее время выполнения типовой задачи из всех испытаний[секунды];
   AbsError – Absolute Error, абсолютная погрешность измерения времени в секундах;
   RelError – Relative Error, относительная погрешность измерения времени в %;
   TaskPerf – Task Performance, производительность (быстродействие) процессора при выполнении типовой задачи.
   
4. Построить сводную диаграмму производительности в зависимости от задач и выбранных исходных параметров испытаний. Оценить среднее быстродействие                     (производительность) для равновероятного использования типовых задач.

## Решение

1. Программа написана на языке C для оценки производительности процессора. В качестве типовой задачи была написана функция по умножению квадратных матриц.
   Входные данные из командой строки такие:
   Первое - название файла;
   Второе - размер квадратной матрицы;
   Третье - количество испытаний.
## Пример запуска
   ./a.out 500 10
 
2. Результат программы с типом данных double сохранен в файл формата csv: 

## Результат запуска

3. Измерение времени работы программы производилось с помощью библиотеки time.h и функции clock().
   Результат чисел с плавающей точкой:
   Матрицы размером 500:
   0.909019
   1.159855
   1.068247
   1.082741
   1.071367
   1.069158
   1.153406
   1.073328
   1.089326
   1.049577


 

